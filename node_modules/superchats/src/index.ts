
import * as superchats_normal from "superchats-normal";
import * as superchats_md from "superchats-md";

type optionsInit = {
    multidevice: false,
    welcomeScreen: true;
    license: string;
    decryptUrl?: string;
    retries?: number
    connectTest?: number
    logQr: true;
  };

export class create {
    constructor(
        session?: string,
        options?: optionsInit,
        qrcode?: (base64Image: any, asciiQR: any, urlCode: any) => void,
        statusFind?: (...args: any[]) => void,
        client?: any
      ) {
        
        client = options.multidevice ? new Promise(async (resolve) => {
            const client = await new superchats_md.create(session, options, qrcode, statusFind)
            resolve(client)
        }) : new Promise(async (resolve) => {
            const client = await new superchats_normal.create(session, options, qrcode, statusFind)
            resolve(client)
        })

        return client
        
    }

}