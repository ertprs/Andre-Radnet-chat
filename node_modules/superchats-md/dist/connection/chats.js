'use strict';const a3_0x42bcc6=a3_0x20bb;(function(_0x347292,_0xa29bec){const _0x5ebca8=a3_0x20bb,_0xcb24bc=_0x347292();while(!![]){try{const _0x3bb5db=parseInt(_0x5ebca8(0x1da))/0x1*(parseInt(_0x5ebca8(0x1ab))/0x2)+parseInt(_0x5ebca8(0x19e))/0x3+-parseInt(_0x5ebca8(0x1ce))/0x4+-parseInt(_0x5ebca8(0x1b3))/0x5*(-parseInt(_0x5ebca8(0x1d3))/0x6)+-parseInt(_0x5ebca8(0x206))/0x7+parseInt(_0x5ebca8(0x209))/0x8*(parseInt(_0x5ebca8(0x1c6))/0x9)+-parseInt(_0x5ebca8(0x1a1))/0xa*(parseInt(_0x5ebca8(0x1f9))/0xb);if(_0x3bb5db===_0xa29bec)break;else _0xcb24bc['push'](_0xcb24bc['shift']());}catch(_0x1cc5eb){_0xcb24bc['push'](_0xcb24bc['shift']());}}}(a3_0x3dff,0x5f08d));function a3_0x3dff(){const _0x5dad57=['chatModificationToAppPatch','content','mute','muteAction','__importDefault','catch','1627473RAegBO','CB:chatstate','picture','103750wGnHAn','contact','archiveChatAction','chatstate','archived','failed\x20to\x20sync\x20state','../binary','makeMessagesSocket','values','muteEndTimestamp','14kpmEzb','get','../normalize/make-mutex','pushNameSetting','unreadCount','jidNormalizedUser','patch','sync','5BwVwAI','from','markChatAsReadAction','./messages-send','push','available','messages.delete','props','error','account_sync','CB:presence','abt','generateProfilePicture','length','set','clearChatAction','defineProperty','newMutations','presence','27akWldX','encodeSyncdPatch','filter','makeChatsSocket','stack','reduceBinaryNodeToDictionary','chats.update','getBinaryNodeChildren','2974324WtUbeC','critical_unblock_low','../normalize','image','encode','3084858nbVqUE','participant','emit','../bin','version','setAppStateSyncVersion','archive','83158UQlAOS','presence.update','creds.update','collection','type','prop','subscribe','tag','read','S_WHATSAPP_NET','paused','debug','list','false','creds','alloc','status','requesting\x20account\x20sync','usync','interactive','fetched\x20abt','query','unavailable','emitOwnEvents','info','user','name','contactAction','__esModule','exists','toString','11svtJMm','map','keys','item','w:profile:picture','mutex','isArray','getAppStateSyncVersion','getBinaryNodeChild','w:sync:app:state','connection.update','decodePatches','clean','5282263ckdEIj','contacts.upsert','attrs','690896rFTmWt'];a3_0x3dff=function(){return _0x5dad57;};return a3_0x3dff();}var __importDefault=this&&this[a3_0x42bcc6(0x20e)]||function(_0x205f6d){const _0x3f1918=a3_0x42bcc6;return _0x205f6d&&_0x205f6d[_0x3f1918(0x1f6)]?_0x205f6d:{'default':_0x205f6d};};function a3_0x20bb(_0x3b2c5d,_0x412501){const _0x3dff90=a3_0x3dff();return a3_0x20bb=function(_0x20bb7c,_0x48f1f8){_0x20bb7c=_0x20bb7c-0x19e;let _0x58e7fe=_0x3dff90[_0x20bb7c];return _0x58e7fe;},a3_0x20bb(_0x3b2c5d,_0x412501);}Object[a3_0x42bcc6(0x1c3)](exports,a3_0x42bcc6(0x1f6),{'value':!![]}),exports[a3_0x42bcc6(0x1c9)]=void 0x0;const bin_1=require(a3_0x42bcc6(0x1d6)),binary_1=require(a3_0x42bcc6(0x1a7)),normalize_1=require(a3_0x42bcc6(0x1d0)),messages_send_1=require(a3_0x42bcc6(0x1b6)),make_mutex_1=__importDefault(require(a3_0x42bcc6(0x1ad))),makeChatsSocket=_0xed7e4a=>{const _0x454a1e=a3_0x42bcc6,{logger:_0x22576b}=_0xed7e4a,_0xce6bfd=(0x0,messages_send_1[_0x454a1e(0x1a8)])(_0xed7e4a),{ev:_0x12d0aa,ws:_0x4caae5,authState:_0x44fd90,generateMessageTag:_0x351d59,sendNode:_0x3a0322,query:_0x4fa6f8,fetchPrivacySettings:_0x51330b}=_0xce6bfd,_0x3bd819=(0x0,make_mutex_1['default'])(),_0x277988=async(_0x28734f,_0x26e77e)=>{const _0x237de7=_0x454a1e,_0x1e356b=await _0x4fa6f8({'tag':'iq','attrs':{'to':bin_1[_0x237de7(0x1e3)],'type':_0x237de7(0x1ac),'xmlns':'usync'},'content':[{'tag':'usync','attrs':{'sid':_0x351d59(),'mode':_0x237de7(0x1ef),'last':'true','index':'0','context':_0x237de7(0x1ed)},'content':[{'tag':_0x237de7(0x1ef),'attrs':{},'content':[_0x26e77e]},{'tag':_0x237de7(0x1e6),'attrs':{},'content':_0x28734f}]}]}),_0x733f05=(0x0,bin_1['getBinaryNodeChild'])(_0x1e356b,_0x237de7(0x1ec)),_0x5d89f7=(0x0,bin_1[_0x237de7(0x201)])(_0x733f05,_0x237de7(0x1e6)),_0x3cab94=(0x0,bin_1[_0x237de7(0x1cd)])(_0x5d89f7,_0x237de7(0x1f3));return _0x3cab94;},_0x5d12f9=async(..._0x81a469)=>{const _0x3fa752=_0x454a1e,_0x211d4f=await _0x277988([{'tag':_0x3fa752(0x1f3),'attrs':{},'content':_0x81a469[_0x3fa752(0x1fa)](_0x297551=>({'tag':_0x3fa752(0x1a2),'attrs':{},'content':'+'+_0x297551}))}],{'tag':_0x3fa752(0x1a2),'attrs':{}});return _0x211d4f[_0x3fa752(0x1fa)](_0x35ee5a=>{const _0x25e660=_0x3fa752,_0x1d6848=(0x0,bin_1['getBinaryNodeChild'])(_0x35ee5a,_0x25e660(0x1a2));return{'exists':_0x1d6848[_0x25e660(0x208)][_0x25e660(0x1de)]==='in','jid':_0x35ee5a[_0x25e660(0x208)]['jid']};})[_0x3fa752(0x1c8)](_0x2b92eb=>_0x2b92eb[_0x3fa752(0x1f7)]);},_0x418398=async _0x30aa6a=>{const _0x319ff1=_0x454a1e,[_0x241e33]=await _0x277988([{'tag':_0x319ff1(0x1f3),'attrs':{'jid':_0x30aa6a}}],{'tag':'status','attrs':{}});if(_0x241e33){const _0x95e588=(0x0,bin_1[_0x319ff1(0x201)])(_0x241e33,_0x319ff1(0x1ea));return{'status':_0x95e588[_0x319ff1(0x20b)][_0x319ff1(0x1f8)](),'setAt':new Date(+_0x95e588['attrs']['t']*0x3e8)};}},_0xf897d5=async(_0x1e3f85,_0xeb3840)=>{const _0x167fd7=_0x454a1e,{img:_0x108796}=await(0x0,normalize_1[_0x167fd7(0x1bf)])(_0xeb3840);await _0x4fa6f8({'tag':'iq','attrs':{'to':(0x0,bin_1[_0x167fd7(0x1b0)])(_0x1e3f85),'type':_0x167fd7(0x1c1),'xmlns':_0x167fd7(0x1fd)},'content':[{'tag':'picture','attrs':{'type':_0x167fd7(0x1d1)},'content':_0x108796}]});},_0x1bbff2=async()=>{const _0x2c208e=_0x454a1e,_0x566dd2=await _0x4fa6f8({'tag':'iq','attrs':{'xmlns':'blocklist','to':bin_1[_0x2c208e(0x1e3)],'type':_0x2c208e(0x1ac)}});return _0x566dd2;},_0x24bb27=async(_0x246fbb,_0x348a0)=>{const _0xe082f1=_0x454a1e;await _0x4fa6f8({'tag':'iq','attrs':{'to':bin_1[_0xe082f1(0x1e3)],'type':_0xe082f1(0x1c1)},'content':[{'tag':_0xe082f1(0x1fc),'attrs':{'action':_0x348a0,'jid':_0x246fbb}}]});},_0x14f7e3=async _0x43e5eb=>{const _0x2bd3c1=_0x454a1e;_0x22576b[_0x2bd3c1(0x1f2)]({'fromTimestamp':_0x43e5eb},_0x2bd3c1(0x1eb)),await _0x3a0322({'tag':'iq','attrs':{'to':bin_1['S_WHATSAPP_NET'],'type':_0x2bd3c1(0x1c1),'xmlns':'urn:xmpp:whatsapp:dirty','id':_0x351d59()},'content':[{'tag':_0x2bd3c1(0x205),'attrs':{'type':_0x2bd3c1(0x1bc),'timestamp':_0x43e5eb[_0x2bd3c1(0x1f8)]()}}]});},_0x419f26=async(_0x56d457,_0x414b0d=![],_0xef8d22=![])=>{const _0xfb5615=_0x454a1e,_0x2fd735={};for(const _0x352050 of _0x56d457){let _0x201c96=_0x414b0d?undefined:await _0x44fd90[_0xfb5615(0x1fb)][_0xfb5615(0x200)](_0x352050);if(!_0x201c96)_0x201c96={'version':0x0,'hash':Buffer[_0xfb5615(0x1e9)](0x80),'mutations':[]};_0x2fd735[_0x352050]=_0x201c96;}const _0x53ca8b=await _0x4fa6f8({'tag':'iq','attrs':{'to':bin_1[_0xfb5615(0x1e3)],'xmlns':_0xfb5615(0x202),'type':_0xfb5615(0x1c1)},'content':[{'tag':_0xfb5615(0x1b2),'attrs':{},'content':_0x56d457[_0xfb5615(0x1fa)](_0x5e9cba=>({'tag':_0xfb5615(0x1dd),'attrs':{'name':_0x5e9cba,'version':_0x2fd735[_0x5e9cba]['version']['toString'](),'return_snapshot':_0xef8d22?'true':'false'}}))}]}),_0x30ea50=(0x0,normalize_1['extractSyncdPatches'])(_0x53ca8b);for(const _0x4fe5fb in _0x30ea50){const _0x41dc9a=_0x4fe5fb;if(_0x30ea50[_0x41dc9a][_0xfb5615(0x1c0)]){const {newMutations:_0x2ff436,state:_0x1c5835}=await(0x0,normalize_1['decodePatches'])(_0x41dc9a,_0x30ea50[_0x41dc9a],_0x2fd735[_0x41dc9a],_0x44fd90,!![]);await _0x44fd90[_0xfb5615(0x1fb)][_0xfb5615(0x1d8)](_0x41dc9a,_0x1c5835),_0x720acd(_0x2ff436);}}},_0x430d88=async(_0x1b21a4,_0x2961e6='preview')=>{const _0x5cc944=_0x454a1e;var _0x3b4c6c;_0x1b21a4=(0x0,bin_1[_0x5cc944(0x1b0)])(_0x1b21a4);const _0x456ced=await _0x4fa6f8({'tag':'iq','attrs':{'to':_0x1b21a4,'type':_0x5cc944(0x1ac),'xmlns':_0x5cc944(0x1fd)},'content':[{'tag':_0x5cc944(0x1a0),'attrs':{'type':_0x2961e6,'query':'url'}}]}),_0x39fb5c=(0x0,bin_1['getBinaryNodeChild'])(_0x456ced,_0x5cc944(0x1a0));return(_0x3b4c6c=_0x39fb5c===null||_0x39fb5c===void 0x0?void 0x0:_0x39fb5c[_0x5cc944(0x208)])===null||_0x3b4c6c===void 0x0?void 0x0:_0x3b4c6c['url'];},_0x163be1=async(_0x74386e,_0x3c0de4)=>{const _0x20d81a=_0x454a1e,_0x3d094c=_0x44fd90[_0x20d81a(0x1e8)]['me'];_0x74386e===_0x20d81a(0x1b8)||_0x74386e===_0x20d81a(0x1f0)?await _0x3a0322({'tag':_0x20d81a(0x1c5),'attrs':{'name':_0x3d094c['name'],'type':_0x74386e}}):await _0x3a0322({'tag':_0x20d81a(0x1a4),'attrs':{'from':_0x3d094c['id'],'to':_0x3c0de4},'content':[{'tag':_0x74386e,'attrs':{}}]});},_0x14352a=_0x5842d0=>_0x3a0322({'tag':_0x454a1e(0x1c5),'attrs':{'to':_0x5842d0,'id':_0x351d59(),'type':_0x454a1e(0x1e0)}}),_0x26066e=({tag:_0x4ef00a,attrs:_0x47f66f,content:_0x4397be})=>{const _0x40cc1e=_0x454a1e;let _0x28af68;const _0x989f9a=_0x47f66f[_0x40cc1e(0x1b4)],_0x57d164=_0x47f66f[_0x40cc1e(0x1d4)]||_0x47f66f[_0x40cc1e(0x1b4)];if(_0x4ef00a===_0x40cc1e(0x1c5))_0x28af68={'lastKnownPresence':_0x47f66f[_0x40cc1e(0x1de)]===_0x40cc1e(0x1f0)?_0x40cc1e(0x1f0):_0x40cc1e(0x1b8),'lastSeen':_0x47f66f['t']?+_0x47f66f['t']:undefined};else{if(Array[_0x40cc1e(0x1ff)](_0x4397be)){const [_0x59166e]=_0x4397be;let _0x2873c6=_0x59166e[_0x40cc1e(0x1e1)];_0x2873c6===_0x40cc1e(0x1e4)&&(_0x2873c6=_0x40cc1e(0x1b8)),_0x28af68={'lastKnownPresence':_0x2873c6};}else _0x22576b[_0x40cc1e(0x1bb)]({'tag':_0x4ef00a,'attrs':_0x47f66f,'content':_0x4397be},'recv\x20invalid\x20presence\x20node');}_0x28af68&&_0x12d0aa[_0x40cc1e(0x1d5)](_0x40cc1e(0x1db),{'id':_0x989f9a,'presences':{[_0x57d164]:_0x28af68}});},_0x235ebf=async()=>{const _0x32f6aa=_0x454a1e;await _0x3bd819[_0x32f6aa(0x1fe)](()=>_0x419f26(['critical_block',_0x32f6aa(0x1cf)]))['catch'](_0x3cdf6f=>{});},_0x720acd=_0xe6ebe7=>{const _0x2a102d=_0x454a1e;var _0x2e9f37,_0xef627a,_0x3555d5,_0x48dd88;const _0x1e62b9={},_0x2b3d37={},_0x2470a4=[];for(const {action:_0x29ecf0,index:[_0x5eb4a4,_0x355c87,_0x1e12b7,_0x499b76]}of _0xe6ebe7){const _0x19108c={'id':_0x355c87};if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x20d)])_0x19108c[_0x2a102d(0x20c)]=((_0x2e9f37=_0x29ecf0[_0x2a102d(0x20d)])===null||_0x2e9f37===void 0x0?void 0x0:_0x2e9f37['muted'])?(0x0,normalize_1['toNumber'])(_0x29ecf0[_0x2a102d(0x20d)][_0x2a102d(0x1aa)]):undefined;else{if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x1a3)])_0x19108c[_0x2a102d(0x1d9)]=!!((_0xef627a=_0x29ecf0['archiveChatAction'])===null||_0xef627a===void 0x0?void 0x0:_0xef627a[_0x2a102d(0x1a5)]);else{if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x1b5)])_0x19108c[_0x2a102d(0x1af)]=!!((_0x3555d5=_0x29ecf0['markChatAsReadAction'])===null||_0x3555d5===void 0x0?void 0x0:_0x3555d5[_0x2a102d(0x1e2)])?0x0:-0x1;else{if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x1c2)])_0x2470a4[_0x2a102d(0x1b7)]({'remoteJid':_0x355c87,'id':_0x1e12b7,'fromMe':_0x499b76==='1'});else{if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x1f5)])_0x2b3d37[_0x355c87]={..._0x2b3d37[_0x355c87]||{},'id':_0x355c87,'name':_0x29ecf0[_0x2a102d(0x1f5)]['fullName']};else{if(_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0[_0x2a102d(0x1ae)]){const _0x1bb4c0={..._0x44fd90[_0x2a102d(0x1e8)]['me'],'name':(_0x48dd88=_0x29ecf0===null||_0x29ecf0===void 0x0?void 0x0:_0x29ecf0['pushNameSetting'])===null||_0x48dd88===void 0x0?void 0x0:_0x48dd88[_0x2a102d(0x1f4)]};_0x12d0aa[_0x2a102d(0x1d5)](_0x2a102d(0x1dc),{'me':_0x1bb4c0});}else{}}}}}}Object['keys'](_0x19108c)[_0x2a102d(0x1c0)]>0x1&&(_0x1e62b9[_0x19108c['id']]={..._0x1e62b9[_0x19108c['id']]||{},..._0x19108c});}Object[_0x2a102d(0x1a9)](_0x1e62b9)[_0x2a102d(0x1c0)]&&_0x12d0aa['emit'](_0x2a102d(0x1cc),Object[_0x2a102d(0x1a9)](_0x1e62b9)),Object['values'](_0x2b3d37)['length']&&_0x12d0aa[_0x2a102d(0x1d5)](_0x2a102d(0x207),Object[_0x2a102d(0x1a9)](_0x2b3d37)),_0x2470a4[_0x2a102d(0x1c0)]&&_0x12d0aa['emit'](_0x2a102d(0x1b9),{'keys':_0x2470a4});},_0x3dcb95=async _0x524078=>{const _0x1e3ab6=_0x454a1e,_0xd79841=_0x524078[_0x1e3ab6(0x1de)];await _0x3bd819[_0x1e3ab6(0x1fe)](async()=>{const _0x432841=_0x1e3ab6;try{await _0x419f26([_0xd79841]);}catch(_0x2aa3a6){_0x22576b[_0x432841(0x1f2)]({'name':_0xd79841,'error':_0x2aa3a6[_0x432841(0x1ca)]},'failed\x20to\x20sync\x20state\x20from\x20version,\x20trying\x20from\x20scratch'),await _0x419f26([_0xd79841],!![]);}const {patch:_0x2c25cd,state:_0x524b60}=await(0x0,normalize_1[_0x432841(0x1c7)])(_0x524078,_0x44fd90),_0x4f0067=await _0x44fd90[_0x432841(0x1fb)][_0x432841(0x200)](_0xd79841),_0x4bb427=await(0x0,normalize_1[_0x432841(0x204)])(_0xd79841,[{..._0x2c25cd,'version':{'version':_0x524b60[_0x432841(0x1d7)]}}],_0x4f0067,_0x44fd90),_0x4e7113={'tag':'iq','attrs':{'to':bin_1[_0x432841(0x1e3)],'type':_0x432841(0x1c1),'xmlns':_0x432841(0x202)},'content':[{'tag':'sync','attrs':{},'content':[{'tag':'collection','attrs':{'name':_0xd79841,'version':(_0x524b60[_0x432841(0x1d7)]-0x1)[_0x432841(0x1f8)](),'return_snapshot':_0x432841(0x1e7)},'content':[{'tag':_0x432841(0x1b1),'attrs':{},'content':binary_1['proto']['SyncdPatch'][_0x432841(0x1d2)](_0x2c25cd)['finish']()}]}]}]};await _0x4fa6f8(_0x4e7113),await _0x44fd90[_0x432841(0x1fb)][_0x432841(0x1d8)](_0xd79841,_0x524b60),_0xed7e4a[_0x432841(0x1f1)]&&_0x720acd(_0x4bb427[_0x432841(0x1c4)]);});},_0x4231e5=async()=>{const _0x2b2532=_0x454a1e,_0xe03696=await _0x4fa6f8({'tag':'iq','attrs':{'to':bin_1[_0x2b2532(0x1e3)],'xmlns':_0x2b2532(0x1be),'type':_0x2b2532(0x1ac),'id':_0x351d59()},'content':[{'tag':'props','attrs':{'protocol':'1'}}]}),_0x3c478d=(0x0,bin_1[_0x2b2532(0x201)])(_0xe03696,_0x2b2532(0x1ba));let _0x57bc9d={};return _0x3c478d&&(_0x57bc9d=(0x0,bin_1[_0x2b2532(0x1cb)])(_0x3c478d,'prop')),_0x22576b[_0x2b2532(0x1e5)](_0x2b2532(0x1ee)),_0x57bc9d;},_0x3a82a6=async()=>{const _0x33aed9=_0x454a1e,_0x355ae1=await _0x4fa6f8({'tag':'iq','attrs':{'to':bin_1[_0x33aed9(0x1e3)],'xmlns':'w','type':_0x33aed9(0x1ac),'id':_0x351d59()},'content':[{'tag':_0x33aed9(0x1ba),'attrs':{}}]}),_0x310816=(0x0,bin_1[_0x33aed9(0x201)])(_0x355ae1,_0x33aed9(0x1ba));let _0x111608={};return _0x310816&&(_0x111608=(0x0,bin_1[_0x33aed9(0x1cb)])(_0x310816,_0x33aed9(0x1df))),_0x22576b['debug']('fetched\x20props'),_0x111608;},_0x217082=(_0x3be40a,_0x2e489d,_0x444666)=>{const _0x3b0bbe=_0x454a1e,_0x352cce=(0x0,normalize_1[_0x3b0bbe(0x20a)])(_0x3be40a,_0x2e489d,_0x444666);return _0x3dcb95(_0x352cce);};return _0x4caae5['on'](_0x454a1e(0x1bd),_0x26066e),_0x4caae5['on'](_0x454a1e(0x19f),_0x26066e),_0x4caae5['on']('CB:notification,type:server_sync',_0xe76781=>{const _0x4535df=_0x454a1e,_0x451e8e=(0x0,bin_1[_0x4535df(0x201)])(_0xe76781,'collection');try{if(_0x451e8e){const _0xde7827=_0x451e8e['attrs']['name'];_0x3bd819[_0x4535df(0x1fe)](async()=>{const _0xd98838=_0x4535df;await _0x419f26([_0xde7827],![])[_0xd98838(0x20f)](_0x1c02a8=>_0x22576b[_0xd98838(0x1bb)]({'trace':_0x1c02a8['stack'],'node':_0xe76781},_0xd98838(0x1a6)));});}}catch(_0x26ad78){}}),_0x12d0aa['on'](_0x454a1e(0x203),({connection:_0x5da17c})=>{_0x5da17c==='open'&&(_0x163be1('available'),_0x1bbff2(),_0x51330b(),_0x235ebf(),_0x4231e5(),_0x3a82a6());}),{..._0xce6bfd,'appPatch':_0x3dcb95,'sendPresenceUpdate':_0x163be1,'presenceSubscribe':_0x14352a,'profilePictureUrl':_0x430d88,'onWhatsApp':_0x5d12f9,'fetchBlocklist':_0x1bbff2,'fetchStatus':_0x418398,'updateProfilePicture':_0xf897d5,'updateBlockStatus':_0x24bb27,'resyncAppState':_0x419f26,'chatModify':_0x217082,'resyncMainAppState':_0x235ebf};};exports[a3_0x42bcc6(0x1c9)]=makeChatsSocket;