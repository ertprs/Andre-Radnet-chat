'use strict';const a11_0x23760b=a11_0x3cca;(function(_0x40a3eb,_0x3ecbbf){const _0x50d851=a11_0x3cca,_0x5a1d05=_0x40a3eb();while(!![]){try{const _0x38e671=-parseInt(_0x50d851(0x9c))/0x1*(-parseInt(_0x50d851(0xe2))/0x2)+parseInt(_0x50d851(0x9a))/0x3+-parseInt(_0x50d851(0xa4))/0x4*(-parseInt(_0x50d851(0x105))/0x5)+parseInt(_0x50d851(0xc6))/0x6+parseInt(_0x50d851(0xa1))/0x7*(parseInt(_0x50d851(0xc5))/0x8)+-parseInt(_0x50d851(0xba))/0x9+-parseInt(_0x50d851(0xeb))/0xa;if(_0x38e671===_0x3ecbbf)break;else _0x5a1d05['push'](_0x5a1d05['shift']());}catch(_0x3142cd){_0x5a1d05['push'](_0x5a1d05['shift']());}}}(a11_0xb68a,0x77687));var __importDefault=this&&this[a11_0x23760b(0xfa)]||function(_0x4b6c06){return _0x4b6c06&&_0x4b6c06['__esModule']?_0x4b6c06:{'default':_0x4b6c06};};function a11_0x3cca(_0x3c41b1,_0x53cdb4){const _0xb68a03=a11_0xb68a();return a11_0x3cca=function(_0x3cca23,_0x2d35ab){_0x3cca23=_0x3cca23-0x93;let _0x75e9f8=_0xb68a03[_0x3cca23];return _0x75e9f8;},a11_0x3cca(_0x3c41b1,_0x53cdb4);}Object[a11_0x23760b(0xcd)](exports,a11_0x23760b(0xd3),{'value':!![]}),exports[a11_0x23760b(0xf6)]=void 0x0;const got_1=__importDefault(require('got')),boom_1=require(a11_0x23760b(0x98)),normalize_1=require(a11_0x23760b(0x9f)),bin_1=require(a11_0x23760b(0xd9)),binary_1=require('../binary'),mode_1=require(a11_0x23760b(0xdf)),groups_aditionais_1=require(a11_0x23760b(0xe3)),node_cache_1=__importDefault(require(a11_0x23760b(0xf1))),makeMessagesSocket=_0x50b8ca=>{const _0x24d3eb=a11_0x23760b,{logger:_0x341c12}=_0x50b8ca,_0x5af50c=(0x0,groups_aditionais_1[_0x24d3eb(0xad)])(_0x50b8ca),{ev:_0x58eb97,authState:_0x30774c,query:_0x25cb35,generateMessageTag:_0xbea03b,sendNode:_0x357fae,groupMetadata:_0x216b1c,groupToggleEphemeral:_0x1cc413}=_0x5af50c,_0x3c95c2=_0x50b8ca[_0x24d3eb(0xff)]||new node_cache_1['default']({'stdTTL':0x12c,'useClones':![]});let _0x11d009;const _0x39bf8b=async(_0x31b021=![])=>{const _0xab159f=_0x24d3eb;if(!_0x11d009||_0x31b021){const _0x5a346a=await _0x25cb35({'tag':'iq','attrs':{'xmlns':'privacy','to':bin_1[_0xab159f(0x9e)],'type':_0xab159f(0x101)},'content':[{'tag':_0xab159f(0xa5),'attrs':{}}]});_0x11d009=(0x0,bin_1[_0xab159f(0x9d)])(_0x5a346a,_0xab159f(0x96));}return _0x11d009;};let _0x48e848;const _0x7353e3=async(_0x365ec8=![])=>{const _0x3bc84a=_0x24d3eb;let _0x546fbc=await _0x48e848;return(!_0x546fbc||_0x365ec8||new Date()[_0x3bc84a(0xe9)]()-_0x546fbc[_0x3bc84a(0xe8)][_0x3bc84a(0xe9)]()>_0x546fbc[_0x3bc84a(0x97)]*0x3e8)&&(_0x48e848=(async()=>{const _0x42bbe6=_0x3bc84a,_0x580198=await _0x25cb35({'tag':'iq','attrs':{'type':'set','xmlns':'w:m','to':bin_1[_0x42bbe6(0x9e)]},'content':[{'tag':_0x42bbe6(0xd0),'attrs':{}}]}),_0x29f029=(0x0,bin_1['getBinaryNodeChild'])(_0x580198,_0x42bbe6(0xd0)),_0xefd93c={'hosts':(0x0,bin_1[_0x42bbe6(0xdc)])(_0x29f029,'host')[_0x42bbe6(0x9b)](_0x2391fc=>_0x2391fc[_0x42bbe6(0xc3)]),'auth':_0x29f029['attrs'][_0x42bbe6(0xfb)],'ttl':+_0x29f029[_0x42bbe6(0xc3)]['ttl'],'fetchDate':new Date()};return _0x341c12[_0x42bbe6(0xb9)](_0x42bbe6(0xa2)),_0xefd93c;})()),_0x48e848;},_0x35bbed=async(_0x222d41,_0x7b8fd0,_0x4eafff,_0x37a3ad)=>{const _0x44723a=_0x24d3eb,_0x5bce25={'tag':_0x44723a(0x94),'attrs':{'id':_0x4eafff[0x0],'t':Date[_0x44723a(0xc8)]()[_0x44723a(0xda)](),'to':_0x222d41}};_0x37a3ad&&(_0x5bce25['attrs']['type']=_0x37a3ad);_0x7b8fd0&&(_0x5bce25['attrs']['participant']=_0x7b8fd0);const _0x4afed9=_0x4eafff[_0x44723a(0xe6)](0x1);_0x4afed9['length']&&(_0x5bce25[_0x44723a(0xb8)]=[{'tag':_0x44723a(0xee),'attrs':{},'content':_0x4afed9[_0x44723a(0x9b)](_0x33cf1e=>({'tag':_0x44723a(0xb6),'attrs':{'id':_0x33cf1e}}))}]),_0x341c12[_0x44723a(0xb9)]({'jid':_0x222d41,'messageIds':_0x4eafff},_0x44723a(0xec)),await _0x357fae(_0x5bce25);},_0x3bbbe3=(_0x2fd35f,_0xb5f838,_0x5f4cb7)=>{return _0x35bbed(_0x2fd35f,_0xb5f838,_0x5f4cb7,undefined);},_0x3eb089=async(_0x311d94,_0x370a70,_0x4c3c7b)=>{const _0x184c0e=_0x24d3eb,_0x2b5cb3=await _0x39bf8b(),_0x422fe6=_0x2b5cb3[_0x184c0e(0xf3)]===_0x184c0e(0xd1)?_0x184c0e(0xab):'read-self';return _0x35bbed(_0x311d94,_0x370a70,_0x4c3c7b,_0x422fe6);},_0x5eb5ad=async(_0x2d3b4a,_0x5062d7)=>{const _0x5b606d=_0x24d3eb,_0x596ad0=[],_0x28f72d=[];_0x2d3b4a=Array[_0x5b606d(0x95)](new Set(_0x2d3b4a));for(let _0x3e35cc of _0x2d3b4a){const _0x1d0e6b=(0x0,bin_1['jidDecode'])(_0x3e35cc)[_0x5b606d(0xe7)];_0x3e35cc=(0x0,bin_1[_0x5b606d(0xf4)])(_0x3e35cc);if(_0x3c95c2[_0x5b606d(0xc2)](_0x1d0e6b)){const _0x3186b5=_0x3c95c2['get'](_0x1d0e6b);_0x596ad0['push'](..._0x3186b5),_0x341c12[_0x5b606d(0xa3)]({'user':_0x1d0e6b},_0x5b606d(0xcf));}else _0x28f72d[_0x5b606d(0xbf)]({'tag':_0x5b606d(0xe7),'attrs':{'jid':_0x3e35cc}});}const _0x268212={'tag':'iq','attrs':{'to':bin_1[_0x5b606d(0x9e)],'type':_0x5b606d(0x101),'xmlns':_0x5b606d(0xaf)},'content':[{'tag':_0x5b606d(0xaf),'attrs':{'sid':_0xbea03b(),'mode':'query','last':_0x5b606d(0xde),'index':'0','context':_0x5b606d(0xb4)},'content':[{'tag':_0x5b606d(0xc4),'attrs':{},'content':[{'tag':_0x5b606d(0xfd),'attrs':{'version':'2'}}]},{'tag':_0x5b606d(0xee),'attrs':{},'content':_0x28f72d}]}]},_0x3a1f19=await _0x25cb35(_0x268212),_0x3d4a15=(0x0,normalize_1[_0x5b606d(0xfc)])(_0x3a1f19,_0x30774c[_0x5b606d(0xa7)]['me']['id'],_0x5062d7),_0x23b1b2={};for(const _0x597c5 of _0x3d4a15){_0x23b1b2[_0x597c5['user']]=_0x23b1b2[_0x597c5[_0x5b606d(0xe7)]]||[],_0x23b1b2[_0x597c5[_0x5b606d(0xe7)]][_0x5b606d(0xbf)](_0x597c5),_0x596ad0[_0x5b606d(0xbf)](_0x597c5);}for(const _0x111430 in _0x23b1b2){_0x3c95c2['set'](_0x111430,_0x23b1b2[_0x111430]);}return _0x596ad0;},_0xfb9a33=async(_0x556aac,_0x2d6988)=>{const _0x231a9a=_0x24d3eb,_0x1f0998=(0x0,normalize_1[_0x231a9a(0xaa)])(_0x556aac)[_0x231a9a(0xda)](),_0x2e21b2=await _0x30774c[_0x231a9a(0xa9)][_0x231a9a(0xcc)](_0x1f0998);if(!_0x2e21b2||_0x2d6988){_0x341c12[_0x231a9a(0xb9)]({'jid':_0x556aac},_0x231a9a(0xf8));const _0x160261={'tag':_0x231a9a(0xe7),'attrs':{'jid':_0x556aac,'reason':'identity'}},_0x96e475=await _0x25cb35({'tag':'iq','attrs':{'xmlns':_0x231a9a(0xbb),'type':_0x231a9a(0x101),'to':bin_1[_0x231a9a(0x9e)]},'content':[{'tag':_0x231a9a(0xd8),'attrs':{},'content':[_0x160261]}]});return await(0x0,normalize_1[_0x231a9a(0xa6)])(_0x96e475,_0x30774c),!![];}return![];},_0x3c839f=async(_0x34e469,_0x3ffc8e)=>{const _0x2b831e=_0x24d3eb;await _0xfb9a33(_0x34e469,![]);const {type:_0x50bffb,ciphertext:_0x59fb16}=await(0x0,normalize_1[_0x2b831e(0xe0)])(_0x34e469,_0x3ffc8e,_0x30774c),_0x17d7a5={'tag':'to','attrs':{'jid':_0x34e469},'content':[{'tag':'enc','attrs':{'v':'2','type':_0x50bffb},'content':_0x59fb16}]};return _0x17d7a5;},_0x525041=async(_0x38d320,_0x31371b,{messageId:_0x209905,participant:_0x757040,additionalAttributes:_0x349283,cachedGroupMetadata:_0x3e502a})=>{const _0x3de014=_0x24d3eb,_0x5a87e1=_0x30774c[_0x3de014(0xa7)]['me']['id'],{user:_0x443147,server:_0x4c6a65}=(0x0,bin_1[_0x3de014(0xf0)])(_0x38d320),_0xb61831=_0x4c6a65===_0x3de014(0xd7);_0x209905=_0x209905||(0x0,normalize_1[_0x3de014(0xef)])();const _0x57a9ec=(0x0,normalize_1[_0x3de014(0xea)])(_0x31371b),_0x5a8e4f=[];let _0x14f14d;const _0x2b2b45=(0x0,bin_1['jidEncode'])(_0x443147,_0xb61831?_0x3de014(0xd7):'s.whatsapp.net'),_0x4d6081=[];if(_0x757040){const {user:_0x1dca97,device:_0x32a31d}=(0x0,bin_1[_0x3de014(0xf0)])(_0x757040);_0x4d6081[_0x3de014(0xbf)]({'user':_0x1dca97,'device':_0x32a31d});}if(_0xb61831){const {ciphertext:_0x2e1b3b,senderKeyDistributionMessageKey:_0x5da36c}=await(0x0,normalize_1['encryptSenderKeyMsgSignalProto'])(_0x2b2b45,_0x57a9ec,_0x5a87e1,_0x30774c);let _0x14a9b1=_0x3e502a?await _0x3e502a(_0x38d320):undefined;if(!_0x14a9b1)_0x14a9b1=await _0x216b1c(_0x38d320);if(!_0x757040){const _0x15244e=_0x14a9b1[_0x3de014(0xb0)][_0x3de014(0x9b)](_0x1f719b=>_0x1f719b['id']),_0x21bc47=await _0x5eb5ad(_0x15244e,![]);_0x4d6081[_0x3de014(0xbf)](..._0x21bc47);}const _0x29fcb2=(0x0,normalize_1['encodeWAMessage'])({'senderKeyDistributionMessage':{'axolotlSenderKeyDistributionMessage':_0x5da36c,'groupId':_0x2b2b45}});for(const {user:_0x3837ac,device:_0x197ff5}of _0x4d6081){const _0x17bf82=(0x0,bin_1[_0x3de014(0x100)])(_0x3837ac,_0x3de014(0xd6),_0x197ff5),_0x300f56=await _0x3c839f(_0x17bf82,_0x29fcb2);_0x5a8e4f['push'](_0x300f56);}const _0x3cc0a5=[];!!_0x5a8e4f[_0x3de014(0xa8)](_0x41568a=>!!_0x41568a[_0x3de014(0xb8)]['find'](({attrs:_0x350275})=>_0x350275[_0x3de014(0x102)]=='pkmsg'))&&_0x3cc0a5['push']({'tag':_0x3de014(0xb0),'attrs':{},'content':_0x5a8e4f}),_0x3cc0a5[_0x3de014(0xbf)]({'tag':_0x3de014(0x93),'attrs':{'v':'2','type':_0x3de014(0xd5)},'content':_0x2e1b3b}),_0x14f14d={'tag':_0x3de014(0xb4),'attrs':{'id':_0x209905,'type':_0x3de014(0x99),'to':_0x2b2b45},'content':_0x3cc0a5};}else{const {user:_0x5aece5}=(0x0,bin_1['jidDecode'])(_0x5a87e1),_0x7b9ee4={'deviceSentMessage':{'destinationJid':_0x2b2b45,'message':_0x31371b}},_0x253cbb=(0x0,normalize_1[_0x3de014(0xea)])(_0x7b9ee4);if(!_0x757040){_0x4d6081[_0x3de014(0xbf)]({'user':_0x443147}),_0x4d6081['push']({'user':_0x5aece5});const _0x5c7835=await _0x5eb5ad([_0x5a87e1,_0x38d320],!![]);_0x4d6081[_0x3de014(0xbf)](..._0x5c7835);}for(const {user:_0x8b3452,device:_0x5c71c9}of _0x4d6081){const _0x29addc=_0x8b3452===_0x5aece5;_0x5a8e4f[_0x3de014(0xbf)](await _0x3c839f((0x0,bin_1[_0x3de014(0x100)])(_0x8b3452,_0x3de014(0xd6),_0x5c71c9),_0x29addc?_0x253cbb:_0x57a9ec));}_0x14f14d={'tag':_0x3de014(0xb4),'attrs':{'id':_0x209905,'type':_0x3de014(0x99),'to':_0x2b2b45,..._0x349283||{}},'content':[{'tag':'participants','attrs':{},'content':_0x5a8e4f}]};}const _0x14a7b6=!!_0x5a8e4f[_0x3de014(0xa8)](_0x3adf1b=>!!_0x3adf1b[_0x3de014(0xb8)]['find'](({attrs:_0x3df5ed})=>_0x3df5ed[_0x3de014(0x102)]==_0x3de014(0xb3)));return _0x14a7b6&&_0x14f14d[_0x3de014(0xb8)][_0x3de014(0xbf)]({'tag':_0x3de014(0xce),'attrs':{},'content':binary_1[_0x3de014(0xdd)][_0x3de014(0xe1)]['encode'](_0x30774c[_0x3de014(0xa7)][_0x3de014(0xf7)])[_0x3de014(0xae)]()}),_0x341c12[_0x3de014(0xb9)]({'msgId':_0x209905},_0x3de014(0xc1)+_0x4d6081[_0x3de014(0xe4)]+_0x3de014(0xc0)),await _0x357fae(_0x14f14d),_0x209905;},_0x18aa21=async(_0x2caa51,{mediaType:_0xb04d09,fileEncSha256B64:_0x5e42d5,timeoutMs:_0x32a07b})=>{const _0x1c9651=_0x24d3eb;let _0x2c863c=await _0x7353e3(![]),_0x461c63;for(let _0x2b7d52 of _0x2c863c['hosts']){const _0x3ee236=encodeURIComponent(_0x2c863c[_0x1c9651(0xfb)]),_0x3b74c2='https://'+_0x2b7d52[_0x1c9651(0xd4)]+mode_1['MEDIA_PATH_MAP'][_0xb04d09]+'/'+_0x5e42d5+_0x1c9651(0xf9)+_0x3ee236+_0x1c9651(0xdb)+_0x5e42d5;try{const {body:_0x8df76c}=await got_1[_0x1c9651(0xb2)]['post'](_0x3b74c2,{'headers':{'Content-Type':'application/octet-stream','Origin':mode_1[_0x1c9651(0x103)]},'agent':{'https':_0x50b8ca[_0x1c9651(0xb7)]},'body':_0x2caa51,'timeout':_0x32a07b}),_0x2f8e1d=JSON['parse'](_0x8df76c);_0x461c63=_0x2f8e1d===null||_0x2f8e1d===void 0x0?void 0x0:_0x2f8e1d[_0x1c9651(0xca)];if(_0x461c63)break;else{_0x2c863c=await _0x7353e3(!![]);throw new Error(_0x1c9651(0xf5)+JSON['stringify'](_0x2f8e1d));}}catch(_0x2f58f3){const _0x4c43c2=_0x2b7d52['hostname']===_0x2c863c[_0x1c9651(0xc7)][_0x2c863c['hosts']['length']-0x1][_0x1c9651(0xd4)];_0x341c12['debug'](_0x1c9651(0xd2)+_0x2b7d52[_0x1c9651(0xd4)]+'\x20('+_0x2f58f3+')\x20'+(_0x4c43c2?'':_0x1c9651(0xb1)));}}if(!_0x461c63)throw new boom_1['Boom'](_0x1c9651(0xbe),{'statusCode':0x1f4});return{'mediaUrl':_0x461c63};};return{..._0x5af50c,'assertSession':_0xfb9a33,'relayMessage':_0x525041,'sendDeliveryReceipt':_0x3bbbe3,'sendReadReceipt':_0x3eb089,'refreshMediaConn':_0x7353e3,'waUploadToServer':_0x18aa21,'fetchPrivacySettings':_0x39bf8b,'sendMessage':async(_0x18756d,_0x28c7ba,_0x4c8844={})=>{const _0x355d2d=_0x24d3eb,_0x436471=_0x30774c[_0x355d2d(0xa7)]['me']['id'];if(typeof _0x28c7ba===_0x355d2d(0xb5)&&_0x355d2d(0xf2)in _0x28c7ba&&typeof _0x28c7ba[_0x355d2d(0xf2)]!==_0x355d2d(0xac)&&(0x0,bin_1[_0x355d2d(0xbc)])(_0x18756d)){const {disappearingMessagesInChat:_0x39dd54}=_0x28c7ba,_0x51073f=typeof _0x39dd54===_0x355d2d(0xbd)?_0x39dd54?mode_1[_0x355d2d(0xc9)]:0x0:_0x39dd54;await _0x1cc413(_0x18756d,_0x51073f);}else{const _0x629386=await(0x0,normalize_1[_0x355d2d(0x104)])(_0x18756d,_0x28c7ba,{..._0x4c8844,'logger':_0x341c12,'userJid':_0x436471,'upload':_0x18aa21,'mediaCache':_0x50b8ca['mediaCache']}),_0x3cdb91=_0x355d2d(0xfe)in _0x28c7ba&&!!_0x28c7ba['delete'],_0x46ea7b={};return _0x3cdb91&&(_0x46ea7b[_0x355d2d(0xa0)]='7'),await _0x525041(_0x18756d,_0x629386[_0x355d2d(0xb4)],{'messageId':_0x629386[_0x355d2d(0xd8)]['id'],'additionalAttributes':_0x46ea7b}),_0x50b8ca['emitOwnEvents']&&process[_0x355d2d(0xed)](()=>{const _0x56c0fa=_0x355d2d;_0x58eb97[_0x56c0fa(0xcb)](_0x56c0fa(0x106),{'messages':[_0x629386],'type':_0x56c0fa(0xe5)});}),_0x629386;}}};};exports[a11_0x23760b(0xf6)]=makeMessagesSocket;function a11_0xb68a(){const _0x3dc1bf=['item','agent','content','debug','4110597AZprrQ','encrypt','isJidGroup','boolean','Media\x20upload\x20failed\x20on\x20all\x20hosts','push','\x20devices','sending\x20message\x20to\x20','has','attrs','query','8tqEPda','2995188rtLdtC','hosts','now','WA_DEFAULT_EPHEMERAL','url','emit','getSession','defineProperty','device-identity','using\x20cache\x20for\x20devices','media_conn','all','Error\x20in\x20uploading\x20to\x20','__esModule','hostname','skmsg','s.whatsapp.net','g.us','key','../bin','toString','&token=','getBinaryNodeChildren','proto','true','../mode','encryptSignalProto','ADVSignedDeviceIdentity','1112BKSYPM','./groups_aditionais','length','append','slice','user','fetchDate','getTime','encodeWAMessage','21459430xtuJYd','reading\x20messages','nextTick','list','generateMessageID','jidDecode','node-cache','disappearingMessagesInChat','readreceipts','jidNormalizedUser','upload\x20failed,\x20reason:\x20','makeMessagesSocket','account','fetching\x20session','?auth=','__importDefault','auth','extractDeviceJids','devices','delete','userDevicesCache','jidEncode','get','type','DEFAULT_ORIGIN','generateWAMessage','5gBgKum','messages.upsert','enc','receipt','from','category','ttl','@hapi/boom','text','1664544jRiNAE','map','1657ANMOVa','reduceBinaryNodeToDictionary','S_WHATSAPP_NET','../normalize','edit','3557974XiqUzB','fetched\x20media\x20conn','trace','2432604NOAFUi','privacy','parseAndInjectE2ESession','creds','find','keys','jidToSignalProtocolAddress','read','undefined','makeGroupsAdittionalSocket','finish','usync','participants',',\x20retrying...','default','pkmsg','message','object'];a11_0xb68a=function(){return _0x3dc1bf;};return a11_0xb68a();}