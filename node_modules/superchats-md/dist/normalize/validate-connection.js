'use strict';const a40_0x2fc61c=a40_0x2a4f;(function(_0x5a4ef1,_0x211fb9){const _0x113195=a40_0x2a4f,_0x2ccb17=_0x5a4ef1();while(!![]){try{const _0x1e3bb7=-parseInt(_0x113195(0x1d0))/0x1+-parseInt(_0x113195(0x1a4))/0x2*(-parseInt(_0x113195(0x1cd))/0x3)+parseInt(_0x113195(0x1bb))/0x4*(parseInt(_0x113195(0x1be))/0x5)+-parseInt(_0x113195(0x1d5))/0x6+-parseInt(_0x113195(0x1df))/0x7+parseInt(_0x113195(0x1c0))/0x8+parseInt(_0x113195(0x1ad))/0x9;if(_0x1e3bb7===_0x211fb9)break;else _0x2ccb17['push'](_0x2ccb17['shift']());}catch(_0x18ac21){_0x2ccb17['push'](_0x2ccb17['shift']());}}}(a40_0x35b5,0xa925e));function a40_0x2a4f(_0x26e01e,_0x6053de){const _0x35b54f=a40_0x35b5();return a40_0x2a4f=function(_0x2a4f32,_0x58bb3e){_0x2a4f32=_0x2a4f32-0x1a4;let _0xff89e=_0x35b54f[_0x2a4f32];return _0xff89e;},a40_0x2a4f(_0x26e01e,_0x6053de);}function a40_0x35b5(){const _0x307bb9=['private','base64','jidDecode','keyIndex','biz','attrs','ClientPayload','keyPair','proto','3srZUgo','S9Kdc4pc4EJryo21snc5cg==','toJSON','1117520KWDimb','000','Failed\x20to\x20verify\x20account\x20signature','Boom','device','6601998WyRsef','tag','content','deviceSignature','readByteArray','encode','__esModule','ADVSignedDeviceIdentity','generateLoginNode','signature','5478942PwahPw','from','1493746qodggN','isArray','browser','public','accountSignatureKey','createSignalIdentity','./crypto','device-identity','details','21315411ewKeXW','build','result','find','getAllBinaryNodeChildren','name','generateRegistrationNode','Binary','pair-device-sign','CompanionProps','finish','encodeInt','../binary','Curve','484sDaYfA','ADVSignedDeviceIdentityHMAC','0.1','13220nlqcxa','Invalid\x20pairing','2065704WxWMOh','decode','@hapi/boom','verify'];a40_0x35b5=function(){return _0x307bb9;};return a40_0x35b5();}Object['defineProperty'](exports,a40_0x2fc61c(0x1db),{'value':!![]}),exports['configureSuccessfulPairing']=exports['generateRegistrationNode']=exports['generateLoginNode']=void 0x0;const boom_1=require(a40_0x2fc61c(0x1c2)),binary_1=require(a40_0x2fc61c(0x1b9)),crypto_1=require(a40_0x2fc61c(0x1aa)),generics_1=require('./generics'),bin_1=require('../bin'),signal_1=require('./signal'),ENCODED_VERSION=a40_0x2fc61c(0x1ce),getUserAgent=({version:_0x1bafc3,browser:_0x121d4d})=>({'appVersion':{'primary':_0x1bafc3[0x0],'secondary':_0x1bafc3[0x1],'tertiary':_0x1bafc3[0x2]},'platform':0xe,'releaseChannel':0x0,'mcc':a40_0x2fc61c(0x1d1),'mnc':a40_0x2fc61c(0x1d1),'osVersion':_0x121d4d[0x2],'manufacturer':'','device':_0x121d4d[0x1],'osBuildNumber':a40_0x2fc61c(0x1bd),'localeLanguageIso6391':'en','localeCountryIso31661Alpha2':'en'}),generateLoginNode=(_0x792a6b,_0x48a1d6)=>{const _0x2c3b45=a40_0x2fc61c,{user:_0xa3ac86,device:_0x12adc3}=(0x0,bin_1[_0x2c3b45(0x1c6)])(_0x792a6b),_0x304cd6={'passive':!![],'connectType':0x1,'connectReason':0x1,'userAgent':getUserAgent(_0x48a1d6),'webInfo':{'webSubPlatform':0x0},'username':parseInt(_0xa3ac86,0xa),'device':_0x12adc3};return binary_1[_0x2c3b45(0x1cc)][_0x2c3b45(0x1ca)][_0x2c3b45(0x1da)](_0x304cd6)[_0x2c3b45(0x1b7)]();};exports[a40_0x2fc61c(0x1dd)]=generateLoginNode;const generateRegistrationNode=({registrationId:_0x2c205c,signedPreKey:_0x20935f,signedIdentityKey:_0x384d30},_0x280377)=>{const _0x487e08=a40_0x2fc61c,_0x24da30=new Uint8Array(Buffer[_0x487e08(0x1e0)](ENCODED_VERSION,_0x487e08(0x1c5))),_0x21c731={'os':_0x280377[_0x487e08(0x1a6)][0x0],'version':{'primary':0xa,'secondary':undefined,'tertiary':undefined},'platformType':0x1,'requireFullSync':![]},_0x4015be=binary_1['proto'][_0x487e08(0x1b6)][_0x487e08(0x1da)](_0x21c731)[_0x487e08(0x1b7)](),_0x64e250={'connectReason':0x1,'connectType':0x1,'passive':![],'regData':{'buildHash':_0x24da30,'companionProps':_0x4015be,'eRegid':(0x0,generics_1[_0x487e08(0x1b8)])(0x4,_0x2c205c),'eKeytype':(0x0,generics_1[_0x487e08(0x1b8)])(0x1,0x5),'eIdent':_0x384d30[_0x487e08(0x1a7)],'eSkeyId':(0x0,generics_1[_0x487e08(0x1b8)])(0x3,_0x20935f['keyId']),'eSkeyVal':_0x20935f[_0x487e08(0x1cb)]['public'],'eSkeySig':_0x20935f[_0x487e08(0x1de)]},'userAgent':getUserAgent(_0x280377),'webInfo':{'webSubPlatform':0x0}};return binary_1['proto'][_0x487e08(0x1ca)]['encode'](_0x64e250)[_0x487e08(0x1b7)]();};exports[a40_0x2fc61c(0x1b3)]=generateRegistrationNode;const configureSuccessfulPairing=(_0x4eb00e,{advSecretKey:_0x527da8,signedIdentityKey:_0x4ab75b,signalIdentities:_0x7419c2})=>{const _0x581507=a40_0x2fc61c;var _0x1265ad,_0x18de1d,_0x5c2d6f,_0x3f06ae,_0x405d6a;const [_0x134e85]=(0x0,bin_1[_0x581507(0x1b1)])(_0x4eb00e),_0x5aeffd=Array[_0x581507(0x1a5)](_0x134e85['content'])?_0x134e85[_0x581507(0x1d7)]:[],_0x498f34=_0x4eb00e[_0x581507(0x1c9)]['id'],_0x3ed181=(_0x1265ad=_0x5aeffd[_0x581507(0x1b0)](_0x370c51=>_0x370c51[_0x581507(0x1d6)]===_0x581507(0x1ab)))===null||_0x1265ad===void 0x0?void 0x0:_0x1265ad[_0x581507(0x1d7)],_0x4529f6=(_0x5c2d6f=(_0x18de1d=_0x5aeffd[_0x581507(0x1b0)](_0x2348cf=>_0x2348cf[_0x581507(0x1d6)]===_0x581507(0x1c8)))===null||_0x18de1d===void 0x0?void 0x0:_0x18de1d[_0x581507(0x1c9)])===null||_0x5c2d6f===void 0x0?void 0x0:_0x5c2d6f[_0x581507(0x1b2)],_0x472abb=_0x4529f6||'',_0x42ac79=(_0x405d6a=(_0x3f06ae=_0x5aeffd['find'](_0x155e26=>_0x155e26['tag']===_0x581507(0x1d4)))===null||_0x3f06ae===void 0x0?void 0x0:_0x3f06ae[_0x581507(0x1c9)])===null||_0x405d6a===void 0x0?void 0x0:_0x405d6a['jid'],{details:_0x554dba,hmac:_0x5c357b}=binary_1['proto'][_0x581507(0x1bc)][_0x581507(0x1c1)](_0x3ed181),_0x41bfb5=(0x0,crypto_1['hmacSign'])(_0x554dba,Buffer[_0x581507(0x1e0)](_0x527da8,_0x581507(0x1c5)));if(Buffer['compare'](_0x5c357b,_0x41bfb5)!==0x0)throw new boom_1[(_0x581507(0x1d3))](_0x581507(0x1bf));const _0x34f1da=binary_1[_0x581507(0x1cc)][_0x581507(0x1dc)][_0x581507(0x1c1)](_0x554dba),{accountSignatureKey:_0x3e1538,accountSignature:_0x308970}=_0x34f1da,_0x49c3b9=bin_1['Binary'][_0x581507(0x1ae)](new Uint8Array([0x6,0x0]),_0x34f1da[_0x581507(0x1ac)],_0x4ab75b['public'])['readByteArray']();if(!crypto_1[_0x581507(0x1ba)][_0x581507(0x1c3)](_0x3e1538,_0x49c3b9,_0x308970))throw new boom_1[(_0x581507(0x1d3))](_0x581507(0x1d2));const _0x1d1442=bin_1[_0x581507(0x1b4)]['build'](new Uint8Array([0x6,0x1]),_0x34f1da[_0x581507(0x1ac)],_0x4ab75b[_0x581507(0x1a7)],_0x34f1da[_0x581507(0x1a8)])[_0x581507(0x1d9)]();_0x34f1da[_0x581507(0x1d8)]=crypto_1[_0x581507(0x1ba)]['sign'](_0x4ab75b[_0x581507(0x1c4)],_0x1d1442);const _0x126aee=(0x0,signal_1[_0x581507(0x1a9)])(_0x42ac79,_0x3e1538),_0x3d3b23=binary_1[_0x581507(0x1cc)]['ADVDeviceIdentity'][_0x581507(0x1c1)](_0x34f1da[_0x581507(0x1ac)])[_0x581507(0x1c7)],_0x153967=binary_1['proto']['ADVSignedDeviceIdentity'][_0x581507(0x1da)]({..._0x34f1da[_0x581507(0x1cf)](),'accountSignatureKey':undefined})[_0x581507(0x1b7)](),_0x13be8a={'tag':'iq','attrs':{'to':bin_1['S_WHATSAPP_NET'],'type':_0x581507(0x1af),'id':_0x498f34},'content':[{'tag':_0x581507(0x1b5),'attrs':{},'content':[{'tag':_0x581507(0x1ab),'attrs':{'key-index':''+_0x3d3b23},'content':_0x153967}]}]},_0x3bbd9d={'account':_0x34f1da,'me':{'id':_0x42ac79,'verifiedName':_0x472abb},'signalIdentities':[..._0x7419c2||[],_0x126aee]};return{'creds':_0x3bbd9d,'reply':_0x13be8a};};exports['configureSuccessfulPairing']=configureSuccessfulPairing;