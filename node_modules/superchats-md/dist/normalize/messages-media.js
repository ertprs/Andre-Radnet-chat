'use strict';const a36_0x4114bd=a36_0x8cf1;(function(_0x5824cf,_0x31273a){const _0x1a8a53=a36_0x8cf1,_0x15432b=_0x5824cf();while(!![]){try{const _0x26fcf3=parseInt(_0x1a8a53(0x215))/0x1+-parseInt(_0x1a8a53(0x204))/0x2*(-parseInt(_0x1a8a53(0x25c))/0x3)+-parseInt(_0x1a8a53(0x263))/0x4+-parseInt(_0x1a8a53(0x255))/0x5*(parseInt(_0x1a8a53(0x226))/0x6)+-parseInt(_0x1a8a53(0x245))/0x7+-parseInt(_0x1a8a53(0x1ee))/0x8*(-parseInt(_0x1a8a53(0x229))/0x9)+parseInt(_0x1a8a53(0x23d))/0xa;if(_0x26fcf3===_0x31273a)break;else _0x15432b['push'](_0x15432b['shift']());}catch(_0x3599dc){_0x15432b['push'](_0x15432b['shift']());}}}(a36_0x5b9c,0x45a3f));var __createBinding=this&&this['__createBinding']||(Object[a36_0x4114bd(0x216)]?function(_0x16d7c8,_0x2033f0,_0x59dbba,_0x5a09c2){const _0x307ef4=a36_0x4114bd;if(_0x5a09c2===undefined)_0x5a09c2=_0x59dbba;Object[_0x307ef4(0x25d)](_0x16d7c8,_0x5a09c2,{'enumerable':!![],'get':function(){return _0x2033f0[_0x59dbba];}});}:function(_0x47c5a3,_0x279e30,_0x2d2a9d,_0x1060e3){if(_0x1060e3===undefined)_0x1060e3=_0x2d2a9d;_0x47c5a3[_0x1060e3]=_0x279e30[_0x2d2a9d];}),__setModuleDefault=this&&this[a36_0x4114bd(0x201)]||(Object[a36_0x4114bd(0x216)]?function(_0x3db85f,_0x1b7f75){const _0x4d3f9b=a36_0x4114bd;Object['defineProperty'](_0x3db85f,_0x4d3f9b(0x232),{'enumerable':!![],'value':_0x1b7f75});}:function(_0x4a7f96,_0x500a51){const _0x50dd69=a36_0x4114bd;_0x4a7f96[_0x50dd69(0x232)]=_0x500a51;}),__importStar=this&&this['__importStar']||function(_0x4f6424){const _0x57ff15=a36_0x4114bd;if(_0x4f6424&&_0x4f6424[_0x57ff15(0x1ef)])return _0x4f6424;var _0x273ad0={};if(_0x4f6424!=null){for(var _0x5d5f2e in _0x4f6424)if(_0x5d5f2e!==_0x57ff15(0x232)&&Object[_0x57ff15(0x212)][_0x57ff15(0x258)][_0x57ff15(0x260)](_0x4f6424,_0x5d5f2e))__createBinding(_0x273ad0,_0x4f6424,_0x5d5f2e);}return __setModuleDefault(_0x273ad0,_0x4f6424),_0x273ad0;},__importDefault=this&&this['__importDefault']||function(_0xa86a3c){const _0x370586=a36_0x4114bd;return _0xa86a3c&&_0xa86a3c[_0x370586(0x1ef)]?_0xa86a3c:{'default':_0xa86a3c};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['extensionForMediaMessage']=exports[a36_0x4114bd(0x21b)]=exports[a36_0x4114bd(0x265)]=exports[a36_0x4114bd(0x234)]=exports[a36_0x4114bd(0x266)]=exports[a36_0x4114bd(0x219)]=exports['getStream']=exports[a36_0x4114bd(0x23a)]=exports[a36_0x4114bd(0x243)]=exports[a36_0x4114bd(0x1fe)]=exports[a36_0x4114bd(0x264)]=exports['generateProfilePicture']=exports[a36_0x4114bd(0x1fa)]=exports['getMediaKeys']=exports['hkdfInfoKey']=void 0x0;const boom_1=require('@hapi/boom'),Crypto=__importStar(require(a36_0x4114bd(0x24a))),stream_1=require(a36_0x4114bd(0x225)),fs_1=require('fs'),child_process_1=require(a36_0x4114bd(0x250)),os_1=require('os'),path_1=require(a36_0x4114bd(0x1f6)),events_1=require(a36_0x4114bd(0x21f)),got_1=__importDefault(require('got')),generics_1=require(a36_0x4114bd(0x20b)),crypto_1=require(a36_0x4114bd(0x218)),mode_1=require(a36_0x4114bd(0x208)),hkdfInfoKey=_0x453568=>{const _0x48f5fb=a36_0x4114bd;let _0x441045=_0x453568;if(_0x453568===_0x48f5fb(0x24c))_0x441045=_0x48f5fb(0x23e);if(_0x453568===_0x48f5fb(0x268))_0x441045='App\x20State';let _0x15b403=_0x441045[0x0][_0x48f5fb(0x206)]()+_0x441045[_0x48f5fb(0x246)](0x1);return _0x48f5fb(0x1f0)+_0x15b403+'\x20Keys';};exports['hkdfInfoKey']=hkdfInfoKey;function getMediaKeys(_0x68d394,_0x35330b){const _0x21ab8a=a36_0x4114bd;typeof _0x68d394===_0x21ab8a(0x259)&&(_0x68d394=Buffer[_0x21ab8a(0x22f)](_0x68d394[_0x21ab8a(0x244)](_0x21ab8a(0x252),''),'base64'));const _0x4966cc=(0x0,crypto_1[_0x21ab8a(0x22e)])(_0x68d394,0x70,{'info':(0x0,exports['hkdfInfoKey'])(_0x35330b)});return{'iv':_0x4966cc[_0x21ab8a(0x246)](0x0,0x10),'cipherKey':_0x4966cc['slice'](0x10,0x30),'macKey':_0x4966cc['slice'](0x30,0x50)};}exports[a36_0x4114bd(0x203)]=getMediaKeys;const extractVideoThumb=async(_0x5824c3,_0x16f478,_0x14cc5b,_0x25d79f)=>new Promise((_0x459b0d,_0x4fd438)=>{const _0x5569c4=a36_0x4114bd,_0x4cedcf=_0x5569c4(0x213)+_0x14cc5b+_0x5569c4(0x24b)+_0x5824c3+'\x20-y\x20-s\x20'+_0x25d79f['width']+'x'+_0x25d79f[_0x5569c4(0x1f2)]+_0x5569c4(0x20f)+_0x16f478;(0x0,child_process_1[_0x5569c4(0x23c)])(_0x4cedcf,_0x7e5016=>{if(_0x7e5016)_0x4fd438(_0x7e5016);else _0x459b0d();});}),compressImage=async _0x289eb3=>{const _0x13c291=a36_0x4114bd;_0x289eb3 instanceof stream_1[_0x13c291(0x249)]&&(_0x289eb3=await(0x0,exports[_0x13c291(0x23a)])(_0x289eb3));const {read:_0x2a5a02,MIME_JPEG:_0x3b8035,RESIZE_BILINEAR:_0x8417da}=await Promise[_0x13c291(0x24d)]()[_0x13c291(0x21e)](()=>__importStar(require('jimp'))),_0x398ba0=await _0x2a5a02(_0x289eb3),_0x1edcd0=await _0x398ba0[_0x13c291(0x202)](0x32)[_0x13c291(0x200)](0x20,0x20,_0x8417da)['getBufferAsync'](_0x3b8035);return _0x1edcd0;};exports[a36_0x4114bd(0x1fa)]=compressImage;const generateProfilePicture=async _0x4fadbe=>{const _0xc55892=a36_0x4114bd;let _0x15a47a;if(Buffer[_0xc55892(0x207)](_0x4fadbe))_0x15a47a=_0x4fadbe;else'url'in _0x4fadbe?_0x15a47a=_0x4fadbe[_0xc55892(0x21d)][_0xc55892(0x1f9)]():_0x15a47a=await(0x0,exports[_0xc55892(0x23a)])(_0x4fadbe[_0xc55892(0x225)]);const {read:_0x173f25,MIME_JPEG:_0x45de07,RESIZE_BILINEAR:_0x33430e}=await Promise[_0xc55892(0x24d)]()[_0xc55892(0x21e)](()=>__importStar(require(_0xc55892(0x20d)))),_0xde53cf=await _0x173f25(_0x15a47a),_0x4dc965=Math[_0xc55892(0x235)](_0xde53cf[_0xc55892(0x23f)](),_0xde53cf['getHeight']()),_0x11ea84=_0xde53cf['crop'](0x0,0x0,_0x4dc965,_0x4dc965);return{'img':await _0x11ea84[_0xc55892(0x202)](0x32)[_0xc55892(0x200)](0x280,0x280,_0x33430e)[_0xc55892(0x220)](_0x45de07)};};exports['generateProfilePicture']=generateProfilePicture;const mediaMessageSHA256B64=_0x1e9654=>{const _0x4416e1=a36_0x4114bd,_0x3d99da=Object[_0x4416e1(0x242)](_0x1e9654)[0x0];return(_0x3d99da===null||_0x3d99da===void 0x0?void 0x0:_0x3d99da[_0x4416e1(0x1ec)])&&Buffer[_0x4416e1(0x22f)](_0x3d99da[_0x4416e1(0x1ec)])[_0x4416e1(0x1f9)](_0x4416e1(0x22a));};exports[a36_0x4114bd(0x264)]=mediaMessageSHA256B64;async function getAudioDuration(_0x4ead2a){const _0x12a4f8=a36_0x4114bd,_0x1ceb24=await Promise[_0x12a4f8(0x24d)]()['then'](()=>__importStar(require(_0x12a4f8(0x257))));let _0x1450c6;if(Buffer[_0x12a4f8(0x207)](_0x4ead2a))_0x1450c6=await _0x1ceb24['parseBuffer'](_0x4ead2a,null,{'duration':!![]});else{const _0xe17c17=(0x0,fs_1['createReadStream'])(_0x4ead2a);_0x1450c6=await _0x1ceb24[_0x12a4f8(0x22c)](_0xe17c17,null,{'duration':!![]}),_0xe17c17['close']();}return _0x1450c6['format']['duration'];}exports[a36_0x4114bd(0x1fe)]=getAudioDuration;const toReadable=_0x230983=>{const _0x24ad19=a36_0x4114bd,_0xb4d3b5=new stream_1[(_0x24ad19(0x249))]({'read':()=>{}});return _0xb4d3b5[_0x24ad19(0x24f)](_0x230983),_0xb4d3b5[_0x24ad19(0x24f)](null),_0xb4d3b5;};exports[a36_0x4114bd(0x243)]=toReadable;const toBuffer=async _0x7cfd9f=>{const _0x58bf17=a36_0x4114bd;let _0x55a5da=Buffer[_0x58bf17(0x1f1)](0x0);for await(const _0x29e62e of _0x7cfd9f){_0x55a5da=Buffer['concat']([_0x55a5da,_0x29e62e]);}return _0x55a5da;};exports[a36_0x4114bd(0x23a)]=toBuffer;const getStream=async _0x108830=>{const _0x447ab9=a36_0x4114bd;if(Buffer[_0x447ab9(0x207)](_0x108830))return{'stream':(0x0,exports[_0x447ab9(0x243)])(_0x108830),'type':_0x447ab9(0x228)};if(_0x447ab9(0x225)in _0x108830)return{'stream':_0x108830[_0x447ab9(0x225)],'type':_0x447ab9(0x262)};if(_0x108830['url'][_0x447ab9(0x1f9)]()['startsWith']('http://')||_0x108830['url'][_0x447ab9(0x1f9)]()['startsWith'](_0x447ab9(0x269)))return{'stream':await(0x0,exports[_0x447ab9(0x266)])(_0x108830[_0x447ab9(0x21d)]),'type':_0x447ab9(0x20c)};return{'stream':(0x0,fs_1[_0x447ab9(0x251)])(_0x108830[_0x447ab9(0x21d)]),'type':'file'};};exports[a36_0x4114bd(0x237)]=getStream;function a36_0x5b9c(){const _0x13e8d5=['productImage','path','locationMessage','pipe','toString','compressImage','digest','debug','.jpg','getAudioDuration','bytes=','resize','__setModuleDefault','quality','getMediaKeys','10ciStkn','extensionForMediaMessage','toUpperCase','isBuffer','../mode','length','update','./generics','remote','jimp','sha256','\x20-vframes\x201\x20-f\x20image2\x20','Transform','mmg.whatsapp.net','prototype','ffmpeg\x20-ss\x20','product','50635bcLIoB','create','product\x20has\x20no\x20image','./crypto','generateThumbnail','unlink','decryptMediaMessageBuffer','no\x20media\x20message\x20for\x20\x22','url','then','events','getBufferAsync','could\x20not\x20generate\x20video\x20thumb:\x20','generateMessageID','write','drain','stream','42eIdwtP','Invalid\x20code\x20(','buffer','3357027NZEgWb','base64','randomBytes','parseStream','aes-256-cbc','hkdf','from','productMessage','Boom','default','max','encryptedStream','min','createDecipheriv','getStream','concat','error','toBuffer','createHash','exec','6080740kCMGoZ','image','getWidth','00:00:00','jpegThumbnail','values','toReadable','replace','2942884gPzLVl','slice','createWriteStream','promises','Readable','crypto','\x20-i\x20','sticker','resolve','keys','push','child_process','createReadStream','data:;base64,','createCipheriv','extendedTextMessage','313485WicjYU','readFile','music-metadata','hasOwnProperty','string','final','once','69429aFSqHY','defineProperty','video','tmpdir','call','DEFAULT_ORIGIN','readable','11556RBQBii','mediaMessageSHA256B64','downloadContentFromMessage','getGotStream','mimetype','md-app-state','https://','fileSha256','liveLocationMessage','8yMiGZR','__esModule','WhatsApp\x20','alloc','height',')\x20returned','split'];a36_0x5b9c=function(){return _0x13e8d5;};return a36_0x5b9c();}async function generateThumbnail(_0x5fc6ff,_0x558d22,_0x36a464){const _0x3ee56e=a36_0x4114bd;var _0x570ebf;let _0x1deab6;if(_0x558d22===_0x3ee56e(0x23e)){const _0x2f6ae8=await(0x0,exports[_0x3ee56e(0x1fa)])(_0x5fc6ff);_0x1deab6=_0x2f6ae8[_0x3ee56e(0x1f9)]('base64');}else{if(_0x558d22===_0x3ee56e(0x25e)){const _0x11e5cd=(0x0,path_1['join'])((0x0,os_1['tmpdir'])(),(0x0,generics_1[_0x3ee56e(0x222)])()+_0x3ee56e(0x1fd));try{await extractVideoThumb(_0x5fc6ff,_0x11e5cd,_0x3ee56e(0x240),{'width':0x20,'height':0x20});const _0x30450f=await fs_1[_0x3ee56e(0x248)][_0x3ee56e(0x256)](_0x11e5cd);_0x1deab6=_0x30450f[_0x3ee56e(0x1f9)](_0x3ee56e(0x22a)),await fs_1[_0x3ee56e(0x248)][_0x3ee56e(0x21a)](_0x11e5cd);}catch(_0x35b623){(_0x570ebf=_0x36a464['logger'])===null||_0x570ebf===void 0x0?void 0x0:_0x570ebf[_0x3ee56e(0x1fc)](_0x3ee56e(0x221)+_0x35b623);}}}return _0x1deab6;}exports['generateThumbnail']=generateThumbnail;const getGotStream=async(_0xad8387,_0x2245d4={})=>{const _0x131663=a36_0x4114bd,_0x14b4ae=got_1['default'][_0x131663(0x225)](_0xad8387,{..._0x2245d4,'isStream':!![]});return await new Promise((_0x540783,_0x4b3eca)=>{const _0x17e0ea=_0x131663;_0x14b4ae[_0x17e0ea(0x25b)](_0x17e0ea(0x239),_0x4b3eca),_0x14b4ae['once']('response',({statusCode:_0x20c3c2})=>{const _0x238918=_0x17e0ea;_0x20c3c2>=0x190?_0x4b3eca(new boom_1[(_0x238918(0x231))](_0x238918(0x227)+_0x20c3c2+_0x238918(0x1f3),{'statusCode':_0x20c3c2})):_0x540783(undefined);});}),_0x14b4ae;};function a36_0x8cf1(_0x54981d,_0x46499b){const _0x5b9cc6=a36_0x5b9c();return a36_0x8cf1=function(_0x8cf1a0,_0x8618aa){_0x8cf1a0=_0x8cf1a0-0x1ec;let _0x41cb22=_0x5b9cc6[_0x8cf1a0];return _0x41cb22;},a36_0x8cf1(_0x54981d,_0x46499b);}exports[a36_0x4114bd(0x266)]=getGotStream;const encryptedStream=async(_0x9020fd,_0x37cf66,_0x5268cc=!![])=>{const _0x32c65b=a36_0x4114bd,{stream:_0x55364c,type:_0x14d646}=await(0x0,exports['getStream'])(_0x9020fd),_0x2ccc30=Crypto[_0x32c65b(0x22b)](0x20),{cipherKey:_0x40ad31,iv:_0xac4887,macKey:_0x451493}=getMediaKeys(_0x2ccc30,_0x37cf66),_0x225a2d=(0x0,path_1['join'])((0x0,os_1['tmpdir'])(),_0x37cf66+(0x0,generics_1['generateMessageID'])()+'.enc'),_0x30ad3e=(0x0,fs_1[_0x32c65b(0x247)])(_0x225a2d);let _0x324e11,_0x23e63f,_0x3e7869=![];if(_0x14d646==='file')_0x324e11=_0x9020fd[_0x32c65b(0x21d)];else _0x5268cc&&(_0x324e11=(0x0,path_1['join'])((0x0,os_1[_0x32c65b(0x25f)])(),_0x37cf66+(0x0,generics_1[_0x32c65b(0x222)])()),_0x23e63f=(0x0,fs_1[_0x32c65b(0x247)])(_0x324e11),_0x3e7869=!![]);let _0x16c74c=0x0;const _0x155ba2=Crypto[_0x32c65b(0x253)](_0x32c65b(0x22d),_0x40ad31,_0xac4887);let _0x1753a0=Crypto['createHmac']('sha256',_0x451493)[_0x32c65b(0x20a)](_0xac4887),_0x3f8a25=Crypto[_0x32c65b(0x23b)](_0x32c65b(0x20e)),_0x248c88=Crypto['createHash'](_0x32c65b(0x20e));const _0x2baba0=_0x39000b=>{const _0x567595=_0x32c65b;_0x248c88=_0x248c88[_0x567595(0x20a)](_0x39000b),_0x1753a0=_0x1753a0[_0x567595(0x20a)](_0x39000b),_0x30ad3e[_0x567595(0x223)](_0x39000b);};for await(const _0x1b3b22 of _0x55364c){_0x16c74c+=_0x1b3b22['length'],_0x3f8a25=_0x3f8a25['update'](_0x1b3b22);if(_0x23e63f){if(!_0x23e63f[_0x32c65b(0x223)](_0x1b3b22))await(0x0,events_1[_0x32c65b(0x25b)])(_0x23e63f,_0x32c65b(0x224));}_0x2baba0(_0x155ba2[_0x32c65b(0x20a)](_0x1b3b22));}_0x2baba0(_0x155ba2[_0x32c65b(0x25a)]());const _0x3a5cd4=_0x1753a0[_0x32c65b(0x1fb)]()['slice'](0x0,0xa);_0x248c88=_0x248c88['update'](_0x3a5cd4);const _0x312619=_0x3f8a25[_0x32c65b(0x1fb)](),_0x51a37d=_0x248c88[_0x32c65b(0x1fb)]();return _0x30ad3e['write'](_0x3a5cd4),_0x30ad3e['end'](),_0x23e63f&&_0x23e63f['end'](),{'mediaKey':_0x2ccc30,'encBodyPath':_0x225a2d,'bodyPath':_0x324e11,'mac':_0x3a5cd4,'fileEncSha256':_0x51a37d,'fileSha256':_0x312619,'fileLength':_0x16c74c,'didSaveToTmpPath':_0x3e7869};};exports[a36_0x4114bd(0x234)]=encryptedStream;const DEF_HOST=a36_0x4114bd(0x211),AES_CHUNK_SIZE=0x10,toSmallestChunkSize=_0x3c6dcd=>{return Math['floor'](_0x3c6dcd/AES_CHUNK_SIZE)*AES_CHUNK_SIZE;},downloadContentFromMessage=async({mediaKey:_0xfcc4a7,directPath:_0x16c92c,url:_0x8b84ee},_0x30a2bc,{startByte:_0x1110c9,endByte:_0x1f093c}={})=>{const _0x105073=a36_0x4114bd,_0x38ff6f=_0x8b84ee||'https://'+DEF_HOST+_0x16c92c;let _0x436c5a=0x0,_0x31f19b=0x0,_0x366168=![];if(_0x1110c9){const _0x2d1d82=toSmallestChunkSize(_0x1110c9||0x0);_0x2d1d82&&(_0x31f19b=_0x2d1d82-AES_CHUNK_SIZE,_0x436c5a=_0x2d1d82,_0x366168=!![]);}const _0x37dd18=_0x1f093c?toSmallestChunkSize(_0x1f093c||0x0)+AES_CHUNK_SIZE:undefined;let _0x35cb00=undefined;if(_0x31f19b||_0x37dd18){_0x35cb00=_0x105073(0x1ff)+_0x31f19b+'-';if(_0x37dd18)_0x35cb00+=_0x37dd18;}const _0x2b8ede=await(0x0,exports['getGotStream'])(_0x38ff6f,{'headers':{'Origin':mode_1[_0x105073(0x261)],'Range':_0x35cb00}});let _0x275ca9=Buffer[_0x105073(0x22f)]([]);const {cipherKey:_0x4262f2,iv:_0x3cf074}=getMediaKeys(_0xfcc4a7,_0x30a2bc);let _0x4745ef;const _0xa7da11=(_0x41d086,_0x3763df)=>{const _0x2c99f8=_0x105073;if(_0x1110c9||_0x1f093c){const _0x1131e0=_0x436c5a>=_0x1110c9?undefined:Math['max'](_0x1110c9-_0x436c5a,0x0),_0x3e81de=_0x436c5a+_0x41d086[_0x2c99f8(0x209)]<_0x1f093c?undefined:Math[_0x2c99f8(0x233)](_0x1f093c-_0x436c5a,0x0);_0x3763df(_0x41d086[_0x2c99f8(0x246)](_0x1131e0,_0x3e81de)),_0x436c5a+=_0x41d086[_0x2c99f8(0x209)];}else _0x3763df(_0x41d086);},_0x1d6c4c=new stream_1[(_0x105073(0x210))]({'transform'(_0x3e8282,_0x12cf58,_0x31cc06){const _0x4bd6a7=_0x105073;let _0x1d720c=Buffer[_0x4bd6a7(0x238)]([_0x275ca9,_0x3e8282]);const _0x2a2471=toSmallestChunkSize(_0x1d720c['length']);_0x275ca9=_0x1d720c[_0x4bd6a7(0x246)](_0x2a2471),_0x1d720c=_0x1d720c[_0x4bd6a7(0x246)](0x0,_0x2a2471);if(!_0x4745ef){let _0x4bd30f=_0x3cf074;_0x366168&&(_0x4bd30f=_0x1d720c[_0x4bd6a7(0x246)](0x0,AES_CHUNK_SIZE),_0x1d720c=_0x1d720c['slice'](AES_CHUNK_SIZE)),_0x4745ef=Crypto[_0x4bd6a7(0x236)]('aes-256-cbc',_0x4262f2,_0x4bd30f),_0x1f093c&&_0x4745ef['setAutoPadding'](![]);}try{_0xa7da11(_0x4745ef[_0x4bd6a7(0x20a)](_0x1d720c),_0x42f182=>this[_0x4bd6a7(0x24f)](_0x42f182)),_0x31cc06();}catch(_0x47b5a6){_0x31cc06(_0x47b5a6);}},'final'(_0x26c004){const _0x57cfce=_0x105073;try{_0xa7da11(_0x4745ef[_0x57cfce(0x25a)](),_0x155ed8=>this[_0x57cfce(0x24f)](_0x155ed8)),_0x26c004();}catch(_0x3242ea){_0x26c004(_0x3242ea);}}});return _0x2b8ede[_0x105073(0x1f8)](_0x1d6c4c,{'end':!![]});};exports['downloadContentFromMessage']=downloadContentFromMessage;async function decryptMediaMessageBuffer(_0x1667b5){const _0x1e2bf1=a36_0x4114bd;var _0x4c8fe9;const _0x4eb4b4=Object[_0x1e2bf1(0x24e)](_0x1667b5)[0x0];if(!_0x4eb4b4||_0x4eb4b4==='conversation'||_0x4eb4b4===_0x1e2bf1(0x254))throw new boom_1[(_0x1e2bf1(0x231))](_0x1e2bf1(0x21c)+_0x4eb4b4+'\x22',{'statusCode':0x190});if(_0x4eb4b4==='locationMessage'||_0x4eb4b4==='liveLocationMessage'){const _0x17f4f6=Buffer[_0x1e2bf1(0x22f)](_0x1667b5[_0x4eb4b4][_0x1e2bf1(0x241)]),_0x229448=new stream_1[(_0x1e2bf1(0x249))]({'read':()=>{}});return _0x229448['push'](_0x17f4f6),_0x229448[_0x1e2bf1(0x24f)](null),_0x229448;}let _0x2583d8;if(_0x1667b5[_0x1e2bf1(0x230)]){const _0x3ea30b=(_0x4c8fe9=_0x1667b5[_0x1e2bf1(0x230)][_0x1e2bf1(0x214)])===null||_0x4c8fe9===void 0x0?void 0x0:_0x4c8fe9[_0x1e2bf1(0x1f5)];if(!_0x3ea30b)throw new boom_1[(_0x1e2bf1(0x231))](_0x1e2bf1(0x217),{'statusCode':0x190});_0x2583d8=_0x3ea30b;}else _0x2583d8=_0x1667b5[_0x4eb4b4];return(0x0,exports[_0x1e2bf1(0x265)])(_0x2583d8,_0x4eb4b4[_0x1e2bf1(0x244)]('Message',''));}exports[a36_0x4114bd(0x21b)]=decryptMediaMessageBuffer;function extensionForMediaMessage(_0x3156b3){const _0x4a37ac=a36_0x4114bd,_0x4682d2=_0x49f9fd=>_0x49f9fd[_0x4a37ac(0x1f4)](';')[0x0][_0x4a37ac(0x1f4)]('/')[0x1],_0x230d58=Object['keys'](_0x3156b3)[0x0];let _0x52c82e;if(_0x230d58===_0x4a37ac(0x1f7)||_0x230d58===_0x4a37ac(0x1ed)||_0x230d58===_0x4a37ac(0x230))_0x52c82e='.jpeg';else{const _0x54421c=_0x3156b3[_0x230d58];_0x52c82e=_0x4682d2(_0x54421c[_0x4a37ac(0x267)]);}return _0x52c82e;}exports[a36_0x4114bd(0x205)]=extensionForMediaMessage;