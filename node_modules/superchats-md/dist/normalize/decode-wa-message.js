'use strict';const a30_0x4f8030=a30_0x3609;function a30_0x3609(_0x59878e,_0x464ced){const _0x298c68=a30_0x298c();return a30_0x3609=function(_0x360967,_0x2cb6e6){_0x360967=_0x360967-0x153;let _0x106d1a=_0x298c68[_0x360967];return _0x106d1a;},a30_0x3609(_0x59878e,_0x464ced);}(function(_0x50e4f0,_0x3ff92d){const _0x3fa073=a30_0x3609,_0x2c243b=_0x50e4f0();while(!![]){try{const _0x429c50=-parseInt(_0x3fa073(0x160))/0x1+parseInt(_0x3fa073(0x165))/0x2+-parseInt(_0x3fa073(0x15a))/0x3*(-parseInt(_0x3fa073(0x162))/0x4)+-parseInt(_0x3fa073(0x170))/0x5*(parseInt(_0x3fa073(0x157))/0x6)+-parseInt(_0x3fa073(0x171))/0x7+parseInt(_0x3fa073(0x15c))/0x8*(-parseInt(_0x3fa073(0x179))/0x9)+parseInt(_0x3fa073(0x181))/0xa*(parseInt(_0x3fa073(0x17c))/0xb);if(_0x429c50===_0x3ff92d)break;else _0x2c243b['push'](_0x2c243b['shift']());}catch(_0x4e0c02){_0x2c243b['push'](_0x2c243b['shift']());}}}(a30_0x298c,0xcb43e));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a30_0x4f8030(0x16f)]=void 0x0;const boom_1=require(a30_0x4f8030(0x159)),generics_1=require('./generics'),bin_1=require('../bin'),signal_1=require('./signal'),binary_1=require(a30_0x4f8030(0x15b)),decodeMessageStanza=async(_0x4b72f4,_0x41c307)=>{const _0x5c1fcc=a30_0x4f8030;var _0x262a60;const _0x538524=(_0x262a60=_0x4b72f4[_0x5c1fcc(0x153)])===null||_0x262a60===void 0x0?void 0x0:_0x262a60[_0x5c1fcc(0x158)](_0x2f0982=>_0x2f0982['tag']==='device-identity'),_0xcd67c7=_0x538524?_0x538524[_0x5c1fcc(0x153)]:undefined;let _0x641d11,_0x412235,_0x1710a8;const _0x5d0a77=_0x4b72f4[_0x5c1fcc(0x16c)]['id'],_0x40e070=_0x4b72f4[_0x5c1fcc(0x16c)][_0x5c1fcc(0x172)],_0x2fbb99=_0x4b72f4[_0x5c1fcc(0x16c)][_0x5c1fcc(0x15e)],_0x1092ef=_0x4b72f4['attrs'][_0x5c1fcc(0x16e)],_0x2e395b=_0x53fe00=>(0x0,bin_1[_0x5c1fcc(0x182)])(_0x53fe00,_0x41c307[_0x5c1fcc(0x176)]['me']['id']);if((0x0,bin_1[_0x5c1fcc(0x16d)])(_0x40e070)){if(_0x1092ef){if(!_0x2e395b(_0x40e070))throw new boom_1['Boom']('');_0x412235=_0x1092ef;}else _0x412235=_0x40e070;_0x641d11=_0x5c1fcc(0x174),_0x1710a8=_0x40e070;}else{if((0x0,bin_1[_0x5c1fcc(0x169)])(_0x40e070)){if(!_0x2fbb99)throw new boom_1[(_0x5c1fcc(0x177))](_0x5c1fcc(0x17a));_0x641d11=_0x5c1fcc(0x154),_0x1710a8=_0x2fbb99,_0x412235=_0x40e070;}else{if((0x0,bin_1[_0x5c1fcc(0x15f)])(_0x40e070)){if(!_0x2fbb99)throw new boom_1[(_0x5c1fcc(0x177))](_0x5c1fcc(0x17a));const _0x538d53=_0x2e395b(_0x2fbb99);(0x0,bin_1[_0x5c1fcc(0x156)])(_0x40e070)?_0x641d11=_0x538d53?_0x5c1fcc(0x178):_0x5c1fcc(0x155):_0x641d11=_0x538d53?_0x5c1fcc(0x16b):'other_broadcast',_0x412235=_0x40e070,_0x1710a8=_0x2fbb99;}}}const _0x2a7422=_0x641d11==='chat'?_0x1710a8:_0x412235,_0x207e46=[],_0x35df82=[];if(Array[_0x5c1fcc(0x161)](_0x4b72f4[_0x5c1fcc(0x153)]))for(const {tag:_0x438d7f,attrs:_0x4c210c,content:_0x4a081c}of _0x4b72f4[_0x5c1fcc(0x153)]){if(_0x438d7f!==_0x5c1fcc(0x168))continue;if(!Buffer[_0x5c1fcc(0x17f)](_0x4a081c)&&!(_0x4a081c instanceof Uint8Array))continue;try{let _0x40334d;const _0x5c2da2=_0x4c210c[_0x5c1fcc(0x16a)];switch(_0x5c2da2){case _0x5c1fcc(0x175):_0x40334d=await(0x0,signal_1[_0x5c1fcc(0x184)])(_0x2a7422,_0x1710a8,_0x4a081c,_0x41c307);break;case'pkmsg':case'msg':const _0x35027e=(0x0,bin_1[_0x5c1fcc(0x16d)])(_0x2a7422)?_0x2a7422:_0x1710a8;_0x40334d=await(0x0,signal_1[_0x5c1fcc(0x183)])(_0x35027e,_0x5c2da2,_0x4a081c,_0x41c307);break;}const _0x150bb7=binary_1[_0x5c1fcc(0x180)][_0x5c1fcc(0x17b)][_0x5c1fcc(0x167)]((0x0,generics_1[_0x5c1fcc(0x166)])(_0x40334d));_0x150bb7['senderKeyDistributionMessage']&&await(0x0,signal_1['processSenderKeyMessage'])(_0x1710a8,_0x150bb7[_0x5c1fcc(0x173)],_0x41c307),_0x207e46[_0x5c1fcc(0x164)](_0x150bb7);}catch(_0x587c13){_0x35df82[_0x5c1fcc(0x164)]({'error':new boom_1['Boom'](_0x587c13,{'data':Buffer[_0x5c1fcc(0x172)]((0x0,bin_1[_0x5c1fcc(0x163)])(_0x4b72f4))[_0x5c1fcc(0x15d)](_0x5c1fcc(0x17d))})});}}return{'msgId':_0x5d0a77,'chatId':_0x412235,'author':_0x1710a8,'from':_0x40e070,'timestamp':+_0x4b72f4[_0x5c1fcc(0x16c)]['t'],'participant':_0x2fbb99,'recipient':_0x1092ef,'pushname':_0x4b72f4[_0x5c1fcc(0x16c)][_0x5c1fcc(0x17e)],'successes':_0x207e46,'failures':_0x35df82};};exports['decodeMessageStanza']=decodeMessageStanza;function a30_0x298c(){const _0x22bd23=['participant','isJidBroadcast','694163qCIfUV','isArray','52pEERBi','encodeBinaryNode','push','2311884ONTxGO','unpadRandomMax16','decode','enc','isJidGroup','type','peer_broadcast','attrs','isJidUser','recipient','decodeMessageStanza','5PZNTpC','5005371PoiCpa','from','senderKeyDistributionMessage','chat','skmsg','creds','Boom','direct_peer_status','9wmQYvY','No\x20participant\x20in\x20group\x20message','Message','14839URVYit','base64','notify','isBuffer','proto','10390WGCsVB','areJidsSameUser','decryptSignalProto','decryptGroupSignalProto','content','group','other_status','isJidStatusBroadcast','1739742lDDDmC','find','@hapi/boom','149862VTpnvu','../binary','5401664kZxdoy','toString'];a30_0x298c=function(){return _0x22bd23;};return a30_0x298c();}